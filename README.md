# üì± –ú–æ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –ö–æ–º–∏–∫—Å

Kotlin Multiplatform –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–∏–∫—Å–æ–≤ –∏–∑ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

## üéØ –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

**–ú–æ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –ö–æ–º–∏–∫—Å** ‚Äî —ç—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –ó–∞–≥—Ä—É–∂–∞—Ç—å —Ñ–æ—Ç–æ —Å–µ–±—è –∏ –¥—Ä—É–∑–µ–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –≤ —Å—Ç–∏–ª–µ –∫–æ–º–∏–∫—Å–∞
- –í—ã–±–∏—Ä–∞—Ç—å —à–∞–±–ª–æ–Ω—ã —Å –≥–æ—Ç–æ–≤—ã–º–∏ —Ä–µ–ø–ª–∏–∫–∞–º–∏ –∏ —Å—Ü–µ–Ω–∫–∞–º–∏
- –°–æ–∑–¥–∞–≤–∞—Ç—å —Å–º–µ—à–Ω—ã–µ –∫–æ–º–∏–∫—Å—ã –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª–∏–∫–æ–≤
- –î–µ–ª–∏—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç —Å–ª–µ–¥—É–µ—Ç **MVI (Model-View-Intent)** –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º:

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- **ViewModel** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º UI
- **Repository** ‚Äî –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º
- **UseCase** ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **DataSource** ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö (API, –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
- **Koin** ‚Äî Dependency Injection
- **Realm** ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Compose Multiplatform** ‚Äî UI —Ñ—Ä–µ–π–º–≤–æ—Ä–∫

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:

```
shared/src/commonMain/kotlin/ru/sad/comicscreator/
‚îú‚îÄ‚îÄ üìÇ domain/
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ model/              # –î–æ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Character.kt       # –ü–µ—Ä—Å–æ–Ω–∞–∂ –∫–æ–º–∏–∫—Å–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Comic.kt          # –ì–æ—Ç–æ–≤—ã–π –∫–æ–º–∏–∫—Å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ComicTemplate.kt  # –®–∞–±–ª–æ–Ω –∫–æ–º–∏–∫—Å–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Photo.kt          # –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Result.kt         # –û–±–µ—Ä—Ç–∫–∞ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ repository/         # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CharacterRepository.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ComicRepository.kt
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PhotoRepository.kt
‚îÇ   ‚îî‚îÄ‚îÄ üìÇ usecase/           # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ       ‚îú‚îÄ‚îÄ CreateCharacterUseCase.kt
‚îÇ       ‚îú‚îÄ‚îÄ CreateComicUseCase.kt
‚îÇ       ‚îî‚îÄ‚îÄ GetComicTemplatesUseCase.kt
‚îú‚îÄ‚îÄ üìÇ presentation/
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ viewmodel/         # ViewModels
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BaseViewModel.kt
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MainViewModel.kt
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ navigation/        # –ù–∞–≤–∏–≥–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Screen.kt
‚îÇ   ‚îî‚îÄ‚îÄ üìÇ screens/          # UI —ç–∫—Ä–∞–Ω—ã
‚îÇ       ‚îî‚îÄ‚îÄ HomeScreen.kt
‚îî‚îÄ‚îÄ üìÇ di/                   # Dependency Injection
    ‚îú‚îÄ‚îÄ AppModule.kt
    ‚îú‚îÄ‚îÄ DataModule.kt
    ‚îú‚îÄ‚îÄ NetworkModule.kt
    ‚îî‚îÄ‚îÄ KoinInitializer.kt
```

### üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö:

```
UI (Compose) ‚Üí ViewModel ‚Üí UseCase ‚Üí Repository ‚Üí DataSource ‚Üí API/Database
```

### üìä –î–∏–∞–≥—Ä–∞–º–º–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:

![–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](architecture-diagram)

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º Clean Architecture —Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º —Å–ª–æ–µ–≤:
- **UI Layer**: Compose UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **Presentation Layer**: ViewModels —Å MVI –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º  
- **Domain Layer**: UseCase –∫–ª–∞—Å—Å—ã —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π
- **Repository Layer**: –ê–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º
- **Data Layer**: –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ DataSource

## üì± –≠–∫—Ä–∞–Ω—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 1. **–ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω (Home)**
- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (—Å–æ–∑–¥–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞/–∫–æ–º–∏–∫—Å)
- –ú–æ–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∏ (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫)
- –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã
- –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∫–æ–º–∏–∫—Å—ã

### 2. **–°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (Create Character)**
- –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ –∏–∑ –≥–∞–ª–µ—Ä–µ–∏/–∫–∞–º–µ—Ä—ã
- –í–≤–æ–¥ –∏–º–µ–Ω–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞

### 3. **–ì–∞–ª–µ—Ä–µ—è –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π (Character Gallery)**
- –°–µ—Ç–∫–∞ –≤—Å–µ—Ö —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
- –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö

### 4. **–í—ã–±–æ—Ä —à–∞–±–ª–æ–Ω–∞ (Select Template)**
- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —à–∞–±–ª–æ–Ω–æ–≤ (—é–º–æ—Ä, —Ä–æ–º–∞–Ω—Ç–∏–∫–∞, –¥—Ä—É–∂–±–∞)
- –§–∏–ª—å—Ç—Ä –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
- –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∏ –Ω–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã
- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —à–∞–±–ª–æ–Ω–∞

### 5. **–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∏–∫—Å–∞ (Create Comic)**
- –í—ã–±–æ—Ä –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –¥–ª—è —Ä–æ–ª–µ–π
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–∑–∏—Ü–∏–π –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–ª–∏–∫
- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

### 6. **–ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–º–∏–∫—Å–∞ (View Comic)**
- –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ö–Ω–æ–ø–∫–∏ –ø–æ–¥–µ–ª–∏—Ç—å—Å—è
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –≥–∞–ª–µ—Ä–µ—é

### 7. **–ì–∞–ª–µ—Ä–µ—è –∫–æ–º–∏–∫—Å–æ–≤ (Comic Gallery)**
- –°–µ—Ç–∫–∞ –≤—Å–µ—Ö —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –∫–æ–º–∏–∫—Å–æ–≤
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ
- –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–ø–æ–¥–µ–ª–∏—Ç—å—Å—è, –ª–∞–π–∫–∏)

### 8. **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∏–∫—Å–∞ (Edit Comic)**
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Ä–µ–ø–ª–∏–∫
- –ü–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üé® –î–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞:
- **–û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç**: Material 3 Dynamic Color
- **–°—Ç–∏–ª—å**: Modern, —è—Ä–∫–∏–π, –∫–æ–º–∏–∫—Å–æ–≤—ã–π
- **–®—Ä–∏—Ñ—Ç—ã**: Material 3 Typography

### UI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- **Cards** –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **FAB** –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- **Bottom Navigation** –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–∞–∑–¥–µ–ª–æ–≤
- **LazyGrid/LazyRow** –¥–ª—è —Å–ø–∏—Å–∫–æ–≤
- **Chips** –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ —Ç–µ–≥–æ–≤

### –ü—Ä–∏–Ω—Ü–∏–ø—ã UX:
1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞** ‚Äî –º–∏–Ω–∏–º—É–º –∫–ª–∏–∫–æ–≤ –¥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
2. **–í–∏–∑—É–∞–ª—å–Ω–æ—Å—Ç—å** ‚Äî –º–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –ø—Ä–µ–≤—å—é
3. **–ë—ã—Å—Ç—Ä–æ—Ç–∞** ‚Äî –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
4. **–ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ—Å—Ç—å** ‚Äî –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–∫–æ–Ω–∫–∏ –∏ –ª–µ–π–±–ª—ã

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Frontend:
- **Kotlin Multiplatform Mobile**
- **Compose Multiplatform**
- **Koin** (Dependency Injection)
- **Navigation Compose**
- **ViewModel & StateFlow**
- **Realm** (Local Database)
- **Ktor Client** (HTTP Client)

### Backend:
- **Ktor Server** (REST API)
- **PostgreSQL** (Database)
- **Exposed** (ORM)
- **AI Image Processing API** (–¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π)

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:
- **Kotlinx Serialization** (JSON)
- **Kotlinx Coroutines** (Async)
- **Material 3** (Design System)

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- Android Studio Arctic Fox+
- JDK 11+
- Xcode 13+ (–¥–ª—è iOS)

### –°–±–æ—Ä–∫–∞:
```bash
# Android
./gradlew composeApp:assembleDebug

# iOS
./gradlew iosApp:build

# –°–µ—Ä–≤–µ—Ä
./gradlew server:run
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
./gradlew test

# –¢–æ–ª—å–∫–æ shared –º–æ–¥—É–ª—å
./gradlew shared:test

# Android —Ç–µ—Å—Ç—ã
./gradlew composeApp:testDebugUnitTest
```

## üìã TODO

- [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –∏ data sources
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Realm database
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AI API –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤ UI
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD

## üèÅ –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### `/composeApp`
Compose Multiplatform UI —Å–ª–æ–π —Å —ç–∫—Ä–∞–Ω–∞–º–∏ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π.

### `/shared`  
–û–±—â–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, –¥–æ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.

### `/server`
Ktor —Å–µ—Ä–≤–µ—Ä –¥–ª—è API –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.

### `/iosApp`
iOS-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ entry point.

---

**–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞**: üèóÔ∏è –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –ë–∞–∑–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è –≥–æ—Ç–æ–≤—ã